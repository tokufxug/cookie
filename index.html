<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
  <meta name="application-name" content="Cookie Sample">
  <meta name="robots" content="noindex" />
  <meta name="robots" content="nofollow">
  <script>

    function onLoad(){
const cookies = document.cookie; // クッキーを全部取得
const cookiesArray = cookies.split('; '); // 'キー=値'の形で分割して配列に入れる

for (const cookie of cookiesArray) {
  const cookieArray = cookie.split('='); // キーと値をさらに分割して配列に入れる
  
  var txt = "NO DATA";
  // 初回アクセスなら（countというクッキーがないなら）
  if (cookieArray[0] !== 'count') {
    document.cookie = 'count=1; path=/';
    txt = '1回目のアクセスです';
  }

  // 2回目以降のアクセスなら
  if (cookieArray[0] === 'count') {
    let accessCount = parseInt(cookieArray[1]); // countの値を整数値へ変換
    accessCount++;
    document.cookie = 'count=' + accessCount + '; path=/';
    txt = accessCount + '回目のアクセスです';
  }
  document.getElementById("msg").innerHTML = txt;
}
}
  </script>
</head>
<body onload="onLoad();">
  <div id="msg"></div>
</body>
</html>